<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detecção de Plantas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<!-- Camera Section -->
<section id="camera-section" class="camera-section">
    <div class="container my-5">
        <h1 class="text-primary text-center mb-4">Detecção de Plantas</h1>
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <!-- Vídeo da câmera -->
                <div class="video-container mb-4">
                    <video autoplay playsinline class="w-100"></video>
                </div>
                <!-- Botão para capturar a foto -->
                <div class="text-center">
                    <button id="capture-btn" class="btn btn-primary btn-lg">
                        <i class="fas fa-camera me-2"></i>
                        Capturar Planta
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Tela de Processamento -->
<div id="processing-screen" class="processing-screen">
    <div class="processing-content">
        <div class="captured-image-container">
            <img id="captured-image" class="captured-image" alt="Imagem capturada">
            <div class="detection-box"></div>
        </div>
        <div class="loading-container">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
            <h4 class="mt-3">Analisando a planta...</h4>
            <p class="text-muted">Aguarde enquanto nosso sistema identifica a espécie</p>
        </div>
    </div>
</div>

<!-- Modal de Feedback -->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body text-center p-4">
                <div class="feedback-icon mb-3">
                    <i class="fas fa-leaf"></i>
                </div>
                <h4 class="feedback-title mb-3">Nenhuma planta detectada</h4>
                <p class="feedback-message">Tente tirar outra foto com uma planta mais visível no enquadramento.</p>
                <button class="btn btn-primary mt-3" data-bs-dismiss="modal">Tentar Novamente</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='script2.js') }}"></script>
</body>
</html>